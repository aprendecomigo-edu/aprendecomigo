<!-- Week View Grid -->
<div class="calendar-view" id="calendar-grid">
    <!-- Week Header -->
    <div class="grid grid-cols-8 gap-px mb-px bg-gray-200 rounded-t-lg overflow-hidden">
        <div class="bg-gray-50 p-3 text-xs font-medium text-gray-500 text-center">Time</div>
        {% for day in week_days %}
            <div class="bg-gray-50 p-3 text-center">
                <div class="text-xs font-medium text-gray-500">{{ day|date:'D' }}</div>
                <div class="text-lg font-semibold text-gray-900 mt-1">{{ day|date:'j' }}</div>
            </div>
        {% endfor %}
    </div>
    
    <!-- Week Grid -->
    <div class="bg-gray-200 rounded-b-lg overflow-hidden">
        <div class="grid" style="grid-template-columns: 60px repeat(7, 1fr); grid-template-rows: repeat(12, 60px);">
            <!-- Time labels -->
            {% for hour in hours %}
                <div class="bg-gray-50 h-[60px] border-t border-gray-300 flex items-center justify-center text-xs font-medium text-gray-500">
                    {{ hour }}:00
                </div>
            {% endfor %}
            
            <!-- Day columns -->
            {% for day in week_days %}
                <div class="contents">
                    <!-- Generate 12 time slots for this day (8AM to 7PM) -->
                    {% for hour in hours %}
                        <div @click="openEventModal('{{ day|date:'Y-m-d' }}', '{{ hour }}:00')"
                             class="h-[60px] border-t border-l border-gray-300 bg-white p-1 relative hover:bg-gray-50 transition-colors cursor-pointer">
                            
                            <!-- Events for this time slot -->
                            {% for event in events %}
                                {% if event.scheduled_date|date:'Y-m-d' == day|date:'Y-m-d' and event.start_time|slice:':2' == hour|stringformat:'02d' %}
                                    <div class="{% if event.status == 'completed' %}bg-green-500 border-green-600{% elif event.status == 'cancelled' %}bg-red-500 border-red-600{% elif event.status == 'in-progress' %}bg-yellow-500 border-yellow-600{% else %}bg-blue-500 border-blue-600{% endif %} text-white text-xs p-1 rounded mb-1 cursor-pointer hover:opacity-90 transition-opacity border-l-4 w-full">
                                        <div class="font-medium truncate">{{ event.title }}</div>
                                        <div class="opacity-90 truncate text-xs">{{ event.start_time }} - {{ event.end_time }}</div>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>
</div>