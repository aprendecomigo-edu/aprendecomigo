QA Test Case: Complete Teacher Profile Wizard - Invitation Acceptance Flow

Test ID: TPROF-009
Test Name: Complete Teacher Profile Wizard - Invitation Acceptance Flow (GitHub Issue #50)
Purpose: Verify complete teacher profile creation during invitation acceptance with all 8 wizard steps
Expected Result: Teacher successfully completes profile setup wizard and accepts invitation with comprehensive profile data

=== CONTEXT (Pre-test Requirements) ===

GitHub Issue: #50 - Teacher Acceptance Workflow - Complete Profile Creation During Invitation Acceptance
Related Issues: #95 (Backend API), #96 (Frontend Components), #98 (File Upload)

System Information:
- Project: Aprende Comigo - Multi-role EdTech Platform
- Architecture: Django REST + React Native/Expo with cross-platform support
- Authentication: Passwordless email verification with JWT tokens
- File Upload: Cross-platform support for profile photos and credentials

Required Environment Setup:
1. Project Location: /Users/anapmc/Code/aprendecomigo/frontend-ui
2. Python Virtual Environment: .venv/ in project root
3. Development servers: `make dev` (runs both backend and frontend)
4. Logs: `make logs` for server debugging

Test Data:
- Test Email: anapmc.carvalho@gmail.com (existing user with pending invitation)
- User Role: teacher (invited to existing school)
- School: Must have existing invitation token
- File Upload Test Files: Need sample profile photo and credential documents

Required Pre-test State:
- Teacher invitation must exist in database
- Valid invitation token available
- Backend API endpoints functional (Issue #95 completed)
- All 8 wizard step components implemented (Issue #96 completed)
- File upload functionality working (Issue #98 completed)

=== DETAILED STEP-BY-STEP INSTRUCTIONS ===

Step 1: Environment Setup and Server Start
Commands:
  cd /Users/anapmc/Code/aprendecomigo/frontend-ui
  source ../.venv/bin/activate  # if virtual env exists
  make dev

Expected: Both Django backend and Expo frontend servers start successfully
Screenshot: 01_servers_started.png
Debug: Use 'make logs' if servers fail to start

Step 2: Access Teacher Invitation Link
1. Open browser to http://localhost:8081
2. Navigate to invitation page with valid token
3. Verify invitation details load correctly

Expected: Invitation page displays with school information and "Accept Invitation" option
Screenshot: 02_invitation_page_loaded.png

Step 3: Initialize Profile Wizard
1. Click "Accept Invitation" or "Complete Profile" button
2. Verify ProfileWizard component loads
3. Check wizard header shows correct school name and progress (0% initially)

Expected: 8-step wizard interface loads with step indicator and school information
Screenshot: 03_wizard_initialized.png

Step 4: Complete Step 1 - Basic Information
1. Verify contact preferences form loads
2. Set email notifications: ENABLED
3. Set SMS notifications: DISABLED  
4. Set call notifications: DISABLED
5. Select preferred contact method: "email"
6. Enter introduction text: "Experienced teacher passionate about personalized learning"
7. Click "Próximo" (Next) button

Expected: Form validates successfully and advances to step 2
Screenshot: 04_basic_info_completed.png
Validation: Introduction field is required and must not be empty

Step 5: Complete Step 2 - Teaching Subjects
1. Verify subjects selection interface loads with common subjects
2. Select subjects from predefined list: "Matemática", "Português", "Inglês"
3. Add custom subject: "Programação"
4. Set expertise levels for each subject (proficiency/expertise)
5. Verify selected subjects appear in the list
6. Click "Próximo" button

Expected: At least one subject selected, form validates, advances to step 3
Screenshot: 05_subjects_completed.png
Validation: Must select at least one teaching subject

Step 6: Complete Step 3 - Grade Level Preferences
1. Verify grade level selection interface loads
2. Select multiple grade levels: "elementary", "middle", "high_school"
3. Verify selections are highlighted/checked
4. Click "Próximo" button

Expected: Grade levels selected successfully, form validates, advances to step 4
Screenshot: 06_grade_levels_completed.png
Validation: Must select at least one grade level

Step 7: Complete Step 4 - Availability & Scheduling
1. Verify availability calendar/schedule interface loads
2. Select timezone: "Europe/Lisbon"
3. Set basic availability (can be simple for testing)
4. Add availability notes: "Available weekday evenings and weekends"
5. Click "Próximo" button

Expected: Timezone set, availability saved, advances to step 5
Screenshot: 07_availability_completed.png
Validation: Timezone selection is required

Step 8: Complete Step 5 - Rates & Compensation
1. Verify rates and payment preferences form loads
2. Set hourly rate: €30
3. Set rate negotiable: YES
4. Select preferred payment method: "bank_transfer"
5. Set invoice frequency: "monthly"
6. Set tax information provided: NO (for testing)
7. Click "Próximo" button

Expected: Rate validation passes (>0, <=1000), payment preferences saved, advances to step 6
Screenshot: 08_rates_completed.png
Validation: Hourly rate must be between 1-1000

Step 9: Complete Step 6 - Credentials & Experience
1. Verify education and experience form loads
2. Add education entry:
   - Degree: "Licenciatura"
   - Field of Study: "Matemática"
   - Institution: "Universidade de Lisboa"
   - Graduation Year: "2018"
3. Add teaching experience entry:
   - Position: "Professor de Matemática"
   - Institution: "Escola Secundária"
   - Start Year: "2019"
   - End Year: "2023"
   - Description: "Teaching mathematics to high school students"
4. Upload credential file (test document)
5. Click "Próximo" button

Expected: Education entry added, experience added, file uploaded successfully, advances to step 7
Screenshot: 09_credentials_completed.png
Validation: At least one education entry required with all fields filled

Step 10: Complete Step 7 - Profile Marketing
1. Verify marketing profile form loads
2. Enter teaching philosophy: "I believe in making learning engaging through real-world applications"
3. Enter teaching approach: "Interactive and student-centered methodology"
4. Add specializations: "Advanced Mathematics", "Problem Solving"
5. Add achievements: "Best Teacher Award 2022"
6. Upload profile photo (test image file)
7. Click "Próximo" button

Expected: All marketing fields filled, profile photo uploaded, advances to step 8
Screenshot: 10_marketing_completed.png
Validation: Teaching philosophy, approach, and at least one specialization required

Step 11: Complete Step 8 - Preview & Submit
1. Verify preview page loads with all entered information
2. Review each section for accuracy:
   - Basic Information
   - Teaching Subjects  
   - Grade Levels
   - Availability
   - Rates & Compensation
   - Credentials & Experience
   - Profile Marketing
3. Verify profile photo displays correctly
4. Verify "Edit" links work for each section (test one edit link)
5. Return to preview page
6. Click "Finalizar Perfil" (Complete Profile) button

Expected: All information displays correctly, edit functionality works, submission initiates
Screenshot: 11_preview_loaded.png

Step 12: Verify Successful Submission
1. Wait for submission to complete
2. Verify success message appears
3. Check that success alert offers "Ir para Dashboard" option
4. Click "Ir para Dashboard" 
5. Verify redirect to teacher dashboard occurs

Expected: Success message displayed, navigation to dashboard successful
Screenshot: 12_submission_success.png

Step 13: Verify Data Persistence (Post-submission)
1. Check that wizard data is cleared from local storage
2. Verify teacher profile exists in backend
3. Confirm invitation status changed to "accepted"
4. Verify teacher has access to dashboard with new profile data

Expected: Clean state, profile persisted, invitation accepted, dashboard accessible
Screenshot: 13_dashboard_loaded.png

Step 14: Test Auto-save Functionality
1. Start wizard again with new invitation (if available)
2. Fill first few steps partially
3. Close browser/tab
4. Reopen wizard
5. Verify data was auto-saved and restored

Expected: Unsaved changes indicator works, auto-save restores data correctly
Screenshot: 14_autosave_tested.png

Step 15: Test Error Handling
1. Try to submit wizard with missing required fields
2. Verify validation errors display correctly
3. Test file upload with invalid file types
4. Test network error handling (if possible)

Expected: Proper error messages, graceful failure handling
Screenshot: 15_error_handling.png

=== PASS/FAIL CRITERIA ===

PASS: All steps complete successfully AND all acceptance criteria met:
- Post-invitation profile setup wizard works end-to-end
- Subject selection with both standard and custom entries functions
- Grade level preferences selection works
- Availability calendar sets teaching hours
- Rate negotiation/acceptance interface functions
- Teaching credentials documentation uploads successfully
- Profile photo upload works
- Teaching philosophy/bio section saves data
- Preview shows complete profile as students will see it
- Integration with school billing/compensation completes
- Data persistence and auto-save work correctly
- All form validations work properly
- Success flow redirects to functional dashboard

FAIL: Any step fails OR any acceptance criteria not met OR any UI glitch/error

Individual Step Criteria:
- Step 1-3: PASS if servers start and wizard initializes correctly
- Step 4: PASS if basic information saves with proper validation
- Step 5: PASS if subject selection works with both predefined and custom subjects
- Step 6: PASS if grade level selection functions properly
- Step 7: PASS if availability and timezone settings save
- Step 8: PASS if rates/compensation form validates and saves correctly
- Step 9: PASS if credentials form works and file upload succeeds
- Step 10: PASS if marketing profile saves and profile photo uploads
- Step 11: PASS if preview displays all data correctly with working edit links
- Step 12: PASS if submission succeeds and shows success message
- Step 13: PASS if redirect to dashboard occurs and data persists
- Step 14: PASS if auto-save functionality works correctly
- Step 15: PASS if error handling is graceful and informative

Overall Result: PASS only if ALL steps pass and complete teacher profile wizard flow works end-to-end with all Issue #50 acceptance criteria verified