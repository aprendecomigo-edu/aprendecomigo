{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Payment Details" %}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>{% trans "Payment Details" %}</h1>

    <div class="card mb-4">
        <div class="card-header">
            <h4>{{ payment.payment_plan.name }}</h4>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <p><strong>{% trans "Date Paid" %}:</strong> {{ payment.date_paid|date:"F d, Y" }}</p>
                    <p><strong>{% trans "Amount Paid" %}:</strong> ${{ payment.amount_paid }}</p>
                    <p><strong>{% trans "Payment Method" %}:</strong> {{ payment.get_payment_method_display }}</p>
                    <p><strong>{% trans "Reference" %}:</strong> {{ payment.reference|default:"--" }}</p>
                </div>
                <div class="col-md-6">
                    <p><strong>{% trans "Status" %}:</strong>
                        {% if payment.is_expired %}
                            <span class="badge bg-danger">{% trans "Expired" %}</span>
                        {% else %}
                            <span class="badge bg-success">{% trans "Active" %}</span>
                        {% endif %}
                    </p>
                    <p><strong>{% trans "Hours Purchased" %}:</strong> {{ payment.payment_plan.hours }}</p>
                    <p><strong>{% trans "Hours Remaining" %}:</strong> {{ remaining_hours }}</p>
                    <p><strong>{% trans "Expiration Date" %}:</strong> {{ payment.expiration_date|date:"F d, Y" }}</p>
                </div>
            </div>

            {% if payment.notes %}
            <div class="mt-3">
                <h5>{% trans "Notes" %}</h5>
                <p>{{ payment.notes }}</p>
            </div>
            {% endif %}
        </div>
        <div class="card-footer text-end">
            <a href="{% url 'financials:student_payment_list' %}" class="btn btn-secondary">
                {% trans "Back to Payments" %}
            </a>
        </div>
    </div>
</div>
{% endblock %}
