<!-- Month View Grid - EventCalendar Inspired -->
<div class="calendar-view" id="calendar-grid">
    <!-- Month Grid -->
    <div class="overflow-hidden bg-white border border-gray-200 rounded-lg">
        <!-- Days of Week Header -->
        <div class="grid grid-cols-7 border-b border-gray-200">
            <div class="bg-gray-50 p-3 text-center border-r border-gray-200">
                <div class="text-xs font-medium text-gray-500 uppercase tracking-wide">Sun</div>
            </div>
            <div class="bg-gray-50 p-3 text-center border-r border-gray-200">
                <div class="text-xs font-medium text-gray-500 uppercase tracking-wide">Mon</div>
            </div>
            <div class="bg-gray-50 p-3 text-center border-r border-gray-200">
                <div class="text-xs font-medium text-gray-500 uppercase tracking-wide">Tue</div>
            </div>
            <div class="bg-gray-50 p-3 text-center border-r border-gray-200">
                <div class="text-xs font-medium text-gray-500 uppercase tracking-wide">Wed</div>
            </div>
            <div class="bg-gray-50 p-3 text-center border-r border-gray-200">
                <div class="text-xs font-medium text-gray-500 uppercase tracking-wide">Thu</div>
            </div>
            <div class="bg-gray-50 p-3 text-center border-r border-gray-200">
                <div class="text-xs font-medium text-gray-500 uppercase tracking-wide">Fri</div>
            </div>
            <div class="bg-gray-50 p-3 text-center">
                <div class="text-xs font-medium text-gray-500 uppercase tracking-wide">Sat</div>
            </div>
        </div>

        <!-- Calendar Days Grid -->
        <div class="grid grid-cols-7">
            {% for day in month_days %}
                <div class="relative min-h-[120px] p-2 border-r border-b border-gray-200 hover:bg-blue-50 transition-colors cursor-pointer group
                            {% if not day.is_current_month %}bg-gray-50 text-gray-400{% endif %}
                            {% if day.is_today %}bg-blue-50 ring-1 ring-inset ring-blue-600{% endif %}"
                     @click="openEventModal('{{ day.date|date:'Y-m-d' }}', '09:00')">

                    <!-- Date number -->
                    <div class="{% if day.is_today %}bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center{% else %}{% if not day.is_current_month %}text-gray-400{% else %}text-gray-900{% endif %}{% endif %} text-sm font-semibold mb-1">
                        {{ day.date|date:'j' }}
                    </div>

                    <!-- Click to book hint -->
                    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-blue-50 bg-opacity-75">
                        <span class="text-xs text-blue-600 font-medium">Click to book</span>
                    </div>

                    <!-- Events for this day -->
                    {% with day_events=events|default:'' %}
                        {% for event in day_events %}
                            {% if event.scheduled_date|date:'Y-m-d' == day.date|date:'Y-m-d' %}
                                {% if forloop.counter <= 3 %}
                                    <div class="{% if event.status == 'completed' %}bg-green-500 border-green-600{% elif event.status == 'cancelled' %}bg-red-500 border-red-600{% elif event.status == 'in-progress' %}bg-yellow-500 border-yellow-600{% else %}bg-blue-500 border-blue-600{% endif %} text-white text-xs p-1.5 rounded-md mb-1 cursor-pointer hover:opacity-90 transition-opacity shadow-sm">
                                        <div class="font-medium truncate leading-tight">{{ event.start_time }} {{ event.title }}</div>
                                    </div>
                                {% elif forloop.counter == 4 %}
                                    <div class="text-xs text-gray-600 font-medium mt-1">+{{ day_events|length|add:'-3' }} more</div>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    {% endwith %}
                </div>
            {% endfor %}
        </div>
    </div>
</div>
