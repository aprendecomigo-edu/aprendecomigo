<form hx-post="{% url 'accounts:signup' %}" 
      hx-target="#signup-form-container" 
      hx-swap="innerHTML"
      class="w-full space-y-6">
    {% csrf_token %}
    
    <!-- Full Name Field -->
    <fieldset class="fieldset">
        <legend class="fieldset-legend font-primary font-medium">Full Name</legend>
        <input type="text" 
               name="full_name" 
               value="{{ full_name|default:'' }}"
               placeholder="John Doe"
               class="input input-lg w-full glass-light p-4 rounded-xl"
               autocomplete="name"
               required />
    </fieldset>
    
    <!-- Email Field -->
    <fieldset class="fieldset">
        <legend class="fieldset-legend font-primary font-medium">Email</legend>
        <input type="email" 
               name="email" 
               value="{{ email|default:'' }}"
               placeholder="your_email@example.com"
               class="input input-lg w-full glass-light p-4 rounded-xl"
               pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$"
               title="Must be a valid email address"
               autocomplete="email"
               required />
        <p class="label">Must be a valid email address</p>
    </fieldset>
    
    <!-- Phone Number Field -->
    <fieldset class="fieldset">
        <legend class="fieldset-legend font-primary font-medium">Phone Number</legend>
        <input type="tel" 
               name="phone_number" 
               value="{{ phone_number|default:'' }}"
               placeholder="+351 123 456 789"
               class="input input-lg w-full glass-light p-4 rounded-xl"
               pattern="^\+\d{1,3}\s?\d{9,}$"
               title="Must be a valid phone number with country code"
               autocomplete="tel"
               required />
        <p class="label">Include country code (e.g., +351 123 456 789)</p>
    </fieldset>
    
    <!-- Server-side error message -->
    {% if error %}
    <div class="alert alert-error">
        <svg class="w-6 h-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span>{{ error }}</span>
    </div>
    {% endif %}

    <!-- Submit Button -->
    <div class="relative">
        <button type="submit" 
                class="btn btn-neutral w-full bg-gradient-primary border-none text-white htmx-request:opacity-50 htmx-request:pointer-events-none">
            <span class="htmx-indicator-none">Create Account</span>
            <span class="htmx-indicator">
                <div class="loading loading-spinner loading-sm"></div>
                Creating Account...
            </span>
        </button>
        
        <!-- Loading Spinner Overlay -->
        <div class="htmx-indicator absolute inset-0 flex items-center justify-center bg-base-100/50 backdrop-blur-sm rounded-lg opacity-0 invisible">
            <div class="loading loading-spinner loading-md text-primary"></div>
        </div>
    </div>
</form>