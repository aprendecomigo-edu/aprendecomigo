{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "School Members" %} - {{ school.name }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
    <div class="bg-white rounded-lg shadow-sm border">
        <div class="p-6 border-b">
            <h1 class="text-2xl font-bold text-gray-900">
                {% trans "Members of" %} {{ school.name }}
            </h1>
        </div>

        <div class="p-6">
            {% if memberships %}
                <div class="grid gap-4">
                    {% for membership in memberships %}
                        <div class="flex items-center justify-between p-4 border rounded-lg">
                            <div>
                                <h3 class="font-semibold text-gray-900">{{ membership.user.name }}</h3>
                                <p class="text-sm text-gray-600">{{ membership.user.email }}</p>
                                <span class="inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                                    {{ membership.get_role_display }}
                                </span>
                            </div>
                            <div class="text-sm text-gray-500">
                                {% trans "Joined" %} {{ membership.joined_at|date:"M d, Y" }}
                            </div>
                        </div>
                    {% endfor %}
                </div>

                {% if is_paginated %}
                    <div class="mt-6 flex justify-center">
                        <nav class="flex items-center space-x-1">
                            {% if page_obj.has_previous %}
                                <a href="?page=1" class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700">{% trans "First" %}</a>
                                <a href="?page={{ page_obj.previous_page_number }}" class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700">{% trans "Previous" %}</a>
                            {% endif %}

                            <span class="px-3 py-2 text-sm text-gray-700">
                                {% trans "Page" %} {{ page_obj.number }} {% trans "of" %} {{ page_obj.paginator.num_pages }}
                            </span>

                            {% if page_obj.has_next %}
                                <a href="?page={{ page_obj.next_page_number }}" class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700">{% trans "Next" %}</a>
                                <a href="?page={{ page_obj.paginator.num_pages }}" class="px-3 py-2 text-sm text-gray-500 hover:text-gray-700">{% trans "Last" %}</a>
                            {% endif %}
                        </nav>
                    </div>
                {% endif %}
            {% else %}
                <div class="text-center py-8">
                    <p class="text-gray-500">{% trans "No members found." %}</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
