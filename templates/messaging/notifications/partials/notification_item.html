<!-- Individual Notification Item -->
<div class="bg-white rounded-lg shadow-sm border {% if not notification.is_read %}border-l-4 border-l-indigo-500 bg-indigo-50{% endif %} p-4 hover:shadow-md transition-shadow">
    <div class="flex items-start justify-between">
        <div class="flex-1">
            <!-- Notification Type Badge -->
            <div class="flex items-center space-x-2 mb-2">
                {% if notification.notification_type == 'low_balance' %}
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                        <svg class="-ml-0.5 mr-1.5 h-2 w-2 text-yellow-400" fill="currentColor" viewBox="0 0 8 8">
                            <circle cx="4" cy="4" r="3" />
                        </svg>
                        Low Balance
                    </span>
                {% elif notification.notification_type == 'package_expiring' %}
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
                        <svg class="-ml-0.5 mr-1.5 h-2 w-2 text-orange-400" fill="currentColor" viewBox="0 0 8 8">
                            <circle cx="4" cy="4" r="3" />
                        </svg>
                        Package Expiring
                    </span>
                {% elif notification.notification_type == 'balance_depleted' %}
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                        <svg class="-ml-0.5 mr-1.5 h-2 w-2 text-red-400" fill="currentColor" viewBox="0 0 8 8">
                            <circle cx="4" cy="4" r="3" />
                        </svg>
                        Balance Depleted
                    </span>
                {% endif %}

                {% if not notification.is_read %}
                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                        New
                    </span>
                {% endif %}
            </div>

            <!-- Notification Title -->
            <h3 class="text-sm font-medium text-gray-900 mb-1">
                {{ notification.title }}
            </h3>

            <!-- Notification Message -->
            <p class="text-sm text-gray-600 mb-2">
                {{ notification.message|truncatewords:30 }}
            </p>

            <!-- Metadata -->
            <div class="flex items-center space-x-4 text-xs text-gray-500">
                <span>{{ notification.created_at|timesince }} ago</span>
                {% if notification.related_transaction %}
                    <span>•</span>
                    <span>Transaction #{{ notification.related_transaction.id }}</span>
                {% endif %}
                {% if notification.read_at %}
                    <span>•</span>
                    <span>Read {{ notification.read_at|timesince }} ago</span>
                {% endif %}
            </div>
        </div>

        <!-- Actions -->
        <div class="flex items-center space-x-2 ml-4">
            {% if not notification.is_read %}
                <!-- Mark as Read Button -->
                <button hx-post="{% url 'messaging:notification-mark-read' notification.pk %}"
                        hx-target="closest .bg-white"
                        hx-swap="outerHTML"
                        class="inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Mark Read
                </button>
            {% endif %}

            <!-- View Details Link -->
            <a href="{% url 'messaging:notification-detail' notification.pk %}"
               class="inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                Details
            </a>
        </div>
    </div>
</div>
